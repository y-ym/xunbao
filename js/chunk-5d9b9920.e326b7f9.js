(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d9b9920"],{"04ed":function(t,a,e){"use strict";e("c6e6")},"458a":function(t,a,e){"use strict";var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("li",[e("div",{staticClass:"image"},[e("img",{attrs:{src:t.orderObj.productInfo.image}})]),e("div",{staticClass:"info"},[e("div",{staticClass:"title"},[t._v(t._s(t.orderObj.productInfo.store_name))]),e("p",{staticClass:"suk"},[t._v(t._s(t.orderObj.productInfo.attrInfo.suk))]),e("div",{staticClass:"priceBox"},[e("span",{staticClass:"price"},[t._v("￥"+t._s(t.orderObj.productInfo.price))]),e("span",{staticClass:"count"},[t._v("x"+t._s(t.orderObj.cart_num))])])])])},s=[],o={name:"goods",props:{orderObj:{type:Object,default:function(){return{}}}}},n=o,i=(e("04ed"),e("2877")),c=Object(i["a"])(n,r,s,!1,null,"3d061594",null);a["a"]=c.exports},"8f7a":function(t,a,e){},c6e6:function(t,a,e){},d3bb:function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"OrderDetail"},[e("div",{staticClass:"navtop"},[e("van-nav-bar",{attrs:{title:"订单详情","left-arrow":""},on:{"click-left":t.back}}),e("div",{staticClass:"step"},[e("van-steps",{attrs:{active:t.active,"active-color":"#ff8600"}},[e("van-step",[t._v("待付款")]),e("van-step",[t._v("待发货")]),e("van-step",[t._v("待收货")]),e("van-step",[t._v("待评价")]),e("van-step",[t._v("已完成")])],1)],1)],1),e("div",{staticClass:"content"},[e("div",{staticClass:"goods"},[e("div",{staticClass:"head"},[t._v("共计1件商品")]),e("ul",{staticClass:"orderList"},t._l(t.orderData.cartInfo,(function(t,a){return e("Card",{key:a,attrs:{orderObj:t}})})),1),e("div",{staticClass:"relation"},[e("van-icon",{attrs:{name:"service-o",color:"#ff8600",size:"20"}}),e("span",[t._v("联系卖家")])],1)]),e("div",{staticClass:"orderInfo"},[e("h2",{staticClass:"title"},[t._v("订单信息")]),e("van-cell-group",[e("van-cell",{attrs:{title:"收货信息:",value:t.orderData.real_name+","+t.orderData.user_phone+","+t.orderData.user_address}}),e("van-cell",{attrs:{title:"订单编号:",value:t.orderData.order_id}}),e("van-cell",{attrs:{title:"下单时间:",value:t.orderData._add_time}}),e("van-cell",{attrs:{title:"支付状态:",value:t.status}}),e("van-cell",{attrs:{title:"支付方式:",value:t.payType}}),e("van-cell",{attrs:{title:"商品价格:",value:"￥"+t.orderData.total_price}}),e("van-cell",{attrs:{title:"快递费用:",value:"￥"+t.orderData.total_postage}})],1),e("div",{staticClass:"price"},[t._v(" 实付款"),e("span",[t._v("￥"+t._s(t.orderData.pay_price))])])],1)]),e("div",{staticClass:"fooder"},[e("van-button",{attrs:{size:"small",plain:"",round:"",color:"#ccc"},on:{click:t.cancelOrder}},[t._v("取消订单")]),e("van-button",{attrs:{size:"small",round:"",color:"red"},on:{click:t.payment}},[t._v("立即付款")])],1)])},s=[],o=(e("8f7a"),e("458a")),n={name:"OrderDetail",components:{Card:o["a"]},data:function(){return{active:0,status:"",payType:"",orderId:"",orderData:[]}},created:function(){this.orderId=this.$route.params.orderId,console.log(this.orderId),this.getOrderData()},methods:{back:function(){this.$router.push("/order")},getOrderData:function(){var t=this,a=this.$cookies.get("tokenString");if(!a)return console.log("浏览器token不存在"),this.$router.push({name:"Login"});this.axios({method:"GET",url:this.baseUrl+"/order/detail/"+this.orderId,headers:{"Authori-zation":"Bearer "+a}}).then((function(a){console.log(a),200==a.data.status?(t.orderData=a.data.data,t.status=t.orderData._status._title,t.payType=t.orderData._status._payType):t.$toast({message:a.data.msg,forbidClick:!0,duration:3e3})})).catch((function(a){t.$toast.clear(),console.log("err ==> ",a)}))},cancelOrder:function(){var t=this;this.$dialog.confirm({title:"提示",message:"确定要取消订单吗？"}).then((function(){var a=t.$cookies.get("tokenString");if(!a)return console.log("浏览器token不存在"),t.$router.push({name:"Login"});t.axios({method:"POST",url:t.baseUrl+"/order/cancel",data:{id:t.orderId},headers:{"Authori-zation":"Bearer "+a}}).then((function(a){t.$toast({message:a.data.msg,forbidClick:!0,duration:1e3}),t.$router.push({name:"Order"})})).catch((function(t){console.log("err ==> ",t)}))})).catch((function(){}))},payment:function(){var t=this,a=this.$cookies.get("tokenString");if(!a)return console.log("浏览器token不存在"),this.$router.push({name:"Login"});this.axios({method:"POST",url:this.baseUrl+"/order/pay",data:{from:"weixinh5",paytype:"yue",uni:this.orderId},headers:{"Authori-zation":"Bearer "+a}}).then((function(a){t.$toast({message:a.data.msg,forbidClick:!0,duration:3e3})})).catch((function(t){console.log("err ==> ",t)}))}}},i=n,c=e("2877"),l=Object(c["a"])(i,r,s,!1,null,null,null);a["default"]=l.exports}}]);
//# sourceMappingURL=chunk-5d9b9920.e326b7f9.js.map