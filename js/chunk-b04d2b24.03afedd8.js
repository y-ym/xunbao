(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b04d2b24"],{"04ed":function(t,s,a){"use strict";a("c6e6")},1149:function(t,s,a){t.exports=a.p+"img/emptyorder.ae5424dd.png"},"458a":function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("li",[a("div",{staticClass:"image"},[a("img",{attrs:{src:t.orderObj.productInfo.image}})]),a("div",{staticClass:"info"},[a("div",{staticClass:"title"},[t._v(t._s(t.orderObj.productInfo.store_name))]),a("p",{staticClass:"suk"},[t._v(t._s(t.orderObj.productInfo.attrInfo.suk))]),a("div",{staticClass:"priceBox"},[a("span",{staticClass:"price"},[t._v("￥"+t._s(t.orderObj.productInfo.price))]),a("span",{staticClass:"count"},[t._v("x"+t._s(t.orderObj.cart_num))])])])])},i=[],o={name:"goods",props:{orderObj:{type:Object,default:function(){return{}}}}},r=o,n=(a("04ed"),a("2877")),c=Object(n["a"])(r,e,i,!1,null,"3d061594",null);s["a"]=c.exports},"6ffa":function(t,s,a){},"7b16":function(t,s,a){"use strict";a("6ffa")},c2b2:function(t,s,a){},c6e6:function(t,s,a){},cf2a:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"myOrder"},[e("div",{staticClass:"navtop"},[e("van-nav-bar",{attrs:{border:!1,"left-text":"我的订单","left-arrow":""},on:{"click-left":t.onClickLeft}})],1),e("van-tabs",{attrs:{animated:""},on:{click:t.onClick},model:{value:t.active,callback:function(s){t.active=s},expression:"active"}},t._l(t.orderStatus,(function(s,a){return e("van-tab",{key:a,attrs:{title:s}},t._l(t.orderInfo,(function(s,a){return e("div",{key:a,staticClass:"order"},[e("div",{staticClass:"head"},[e("span",{staticClass:"tiem"},[t._v(t._s(s._add_time))]),e("span",{staticClass:"status"},[t._v(t._s(s._status._title))])]),e("ul",{staticClass:"orderList"},t._l(s.cartInfo,(function(t,s){return e("Card",{key:s,attrs:{orderObj:t}})})),1),e("p",{staticClass:"price_num"},[t._v(" 共计"+t._s(s.total_num)+"件商品"),e("span",[t._v("￥"+t._s(s.pay_price))])]),e("div",{staticClass:"btn"},[e("div",{staticClass:"cance",on:{click:function(a){return t.cancelOrder(s.order_id)}}},[t._v("取消订单")]),e("div",{staticClass:"payment",on:{click:function(a){return t.payment(s.order_id)}}},[t._v("立即付款")])])])})),0)})),1),0==t.orderInfo?e("div",{staticClass:"img"},[e("img",{attrs:{src:a("1149")}}),e("p",{staticClass:"title"},[t._v("您暂时还没有相关的订单")]),e("p",{staticClass:"sub"},[t._v("可以以去看看有什么想买的")])]):t._e(),e("GoodsList",{attrs:{List:t.GoodsList}},[e("div",{staticClass:"list_hd"},[e("img",{attrs:{src:"https://img.alicdn.com/tfs/TB1V2eQrKSSBuNjy0FlXXbBpVXa-966-114.png"}})])])],1)},i=[],o=(a("c2b2"),a("458a")),r=a("e46b"),n={name:"Order",components:{Card:o["a"],GoodsList:r["a"]},data:function(){return{active:0,orderStatus:["全部","待付款","待发货","待收货","待评价"],orderInfo:[],GoodsList:[]}},created:function(){var t=this;this.getOrderinfo(),this.axios(this.baseUrl+"/groom/list/2?page=1&limit=30").then((function(s){t.GoodsList=s.data.data.list}))},methods:{onClickLeft:function(){this.$router.back()},getOrderinfo:function(t){var s=this,a=this.$cookies.get("tokenString");if(!a)return console.log("浏览器token不存在"),this.$router.push({name:"Login"});this.axios({method:"GET",url:this.baseUrl+"/order/list?page=1&limit=20&type=".concat(1==t?0:t),headers:{"Authori-zation":"Bearer "+a}}).then((function(t){return console.log(t),41e4==t.data.status||410001==t.data.status?(s.$toast({message:t.data.msg,forbidClick:!0,duration:2e3}),s.$router.push({name:"Login"})):void(200==t.data.status?s.orderInfo=t.data.data:s.$toast({message:t.data.msg,forbidClick:!0,duration:3e3}))})).catch((function(t){s.$toast.clear(),console.log("err ==> ",t)}))},onClick:function(t){console.log(t),this.getOrderinfo(t)},cancelOrder:function(t){var s=this;this.$dialog.confirm({title:"提示",message:"确定要取消订单吗？"}).then((function(){var a=s.$cookies.get("tokenString");if(!a)return console.log("浏览器token不存在"),s.$router.push({name:"Login"});s.axios({method:"POST",url:s.baseUrl+"/order/cancel",data:{id:t},headers:{"Authori-zation":"Bearer "+a}}).then((function(t){s.$toast({message:t.data.msg,forbidClick:!0,duration:1e3}),s.getOrderinfo()})).catch((function(t){console.log("err ==> ",t)}))})).catch((function(){}))},payment:function(t){var s=this,a=this.$cookies.get("tokenString");if(!a)return console.log("浏览器token不存在"),this.$router.push({name:"Login"});this.axios({method:"POST",url:this.baseUrl+"/order/pay",data:{from:"weixinh5",paytype:"yue",uni:t},headers:{"Authori-zation":"Bearer "+a}}).then((function(t){console.log(t.data),s.$toast({message:t.data.msg,forbidClick:!0,duration:3e3})})).catch((function(t){console.log("err ==> ",t)}))}}},c=n,l=a("2877"),d=Object(l["a"])(c,e,i,!1,null,null,null);s["default"]=d.exports},e46b:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"listBox"},[t._t("default"),a("ul",{staticClass:"GoodsList"},t._l(t.List,(function(s,e){return a("router-link",{key:e,attrs:{to:"/details/"+s.id,tag:"li"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.image,expression:"item.image"}]}),a("div",{staticClass:"sketch"},[a("p",{staticClass:"title"},[t._v(t._s(s.store_name))]),a("p",{staticClass:"price"},[t._v("￥"+t._s(s.price))]),a("div",{staticClass:"sub"},[a("span",{staticClass:"otPrice"},[t._v("￥"+t._s(s.ot_price))]),a("span",{staticClass:"stales"},[t._v(t._s(s.sales)+"已购买")])])])])})),1)],2)},i=[],o={name:"GoodsList",props:["List"]},r=o,n=(a("7b16"),a("2877")),c=Object(n["a"])(r,e,i,!1,null,"009ba734",null);s["a"]=c.exports}}]);
//# sourceMappingURL=chunk-b04d2b24.03afedd8.js.map